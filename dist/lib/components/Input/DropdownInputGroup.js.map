{"version":3,"file":"DropdownInputGroup.js","sources":["../../../../lib/components/Input/DropdownInputGroup.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Menu, MenuButton, MenuItem, MenuItems, MenuPopover } from '@reach/menu-button'\nimport { positionMatchWidth } from '@reach/popover'\nimport classnames from 'classnames'\nimport FeatherIcon from 'feather-icons-react'\n\nimport { DEFAULT_INPUT_GROUP_CLASS_NAME, DEFAULT_INPUT_LABEL_CLASS_NAME } from '../../constants'\n\nexport const DropdownInputGroup = (props) => {\n  // Dropdown Logic\n\n  const { id, formatValue, label, placeHolder, values, current, onValueSet, disabled } = props\n\n  const [currentValue, setCurrentValue] = useState(current ? current : '')\n\n  const handleChangeValueClick = (newValue) => {\n    setCurrentValue(newValue)\n    onValueSet(newValue)\n  }\n\n  let valuesArray = []\n  if (typeof values === 'object') {\n    valuesArray = Object.keys(values).map((v) => v)\n  }\n\n  const menuItems = valuesArray.map((valueItem) => {\n    let value = valueItem\n\n    const selected = value === currentValue\n\n    return (\n      <MenuItem\n        key={`${id}-value-picker-item-${value}`}\n        onSelect={() => {\n          handleChangeValueClick(value)\n        }}\n        className={classnames({\n          selected\n        })}\n      >\n        {formatValue ? formatValue(value) : value}\n      </MenuItem>\n    )\n  })\n\n  // Styling\n\n  let {\n    textClassName,\n    roundedClassName,\n    marginClassName,\n    borderClassName,\n    backgroundClassName,\n    labelClassName,\n    unitsClassName,\n    containerClassName,\n    isError,\n    isSuccess\n  } = props\n\n  textClassName = textClassName\n    ? textClassName\n    : classnames('text-xs trans', {\n        'text-whitesmoke': disabled || !currentValue\n      })\n\n  containerClassName = containerClassName ? containerClassName : 'w-full'\n\n  roundedClassName = roundedClassName ? roundedClassName : 'rounded-full'\n\n  marginClassName = marginClassName ? marginClassName : 'mb-2 lg:mb-2'\n\n  borderClassName = borderClassName\n    ? borderClassName\n    : classnames('border', {\n        'border-red': isError,\n        'border-green-2': isSuccess,\n        'border-transparent': !isError && !isSuccess,\n        'hover:border-accent-3 focus-within:border-accent-3 focus-within:shadow-green': !disabled\n      })\n\n  backgroundClassName = backgroundClassName\n    ? backgroundClassName\n    : classnames(backgroundClassName, {\n        'bg-grey': disabled\n      })\n\n  labelClassName = labelClassName\n    ? labelClassName\n    : classnames(DEFAULT_INPUT_LABEL_CLASS_NAME, {\n        'cursor-not-allowed font-whitesmoke': disabled,\n        'text-accent-1': !disabled\n      })\n\n  unitsClassName = unitsClassName\n    ? unitsClassName\n    : classnames('font-bold text-xs sm:text-sm whitespace-no-wrap', {\n        'cursor-not-allowed font-whitesmoke': disabled,\n        'font-white': !disabled\n      })\n\n  const className = classnames(\n    DEFAULT_INPUT_GROUP_CLASS_NAME,\n    containerClassName,\n    textClassName,\n    roundedClassName,\n    marginClassName,\n    borderClassName,\n    backgroundClassName\n  )\n\n  let selectedItem = placeHolder ? placeHolder : null\n  if (currentValue) {\n    selectedItem = formatValue ? formatValue(currentValue) : currentValue\n  }\n\n  return (\n    <>\n      <Menu id={id}>\n        {({ isExpanded }) => (\n          <>\n            <MenuButton className={classnames(className, 'focus:outline-none')}>\n              <div className='flex flex-col text-left'>\n                <label htmlFor={id} className={labelClassName}>\n                  {label}\n                </label>\n                <div className='w-full flex justify-between'>\n                  <div className='flex'>{selectedItem}</div>\n                  <FeatherIcon\n                    icon={isExpanded ? 'chevron-up' : 'chevron-down'}\n                    className='relative w-4 h-4 sm:w-8 sm:h-8 inline-block my-auto'\n                    strokeWidth='0.15rem'\n                  />\n                </div>\n              </div>\n            </MenuButton>\n\n            <MenuPopover position={positionMatchWidth}>\n              <MenuItems>{menuItems}</MenuItems>\n            </MenuPopover>\n          </>\n        )}\n      </Menu>\n    </>\n  )\n}\n"],"names":["DropdownInputGroup","props","id","formatValue","label","placeHolder","values","current","onValueSet","disabled","useState","currentValue","setCurrentValue","handleChangeValueClick","newValue","valuesArray","_typeof","Object","keys","map","v","menuItems","valueItem","value","selected","React","MenuItem","classnames","textClassName","roundedClassName","marginClassName","borderClassName","backgroundClassName","labelClassName","unitsClassName","containerClassName","isError","isSuccess","DEFAULT_INPUT_LABEL_CLASS_NAME","className","DEFAULT_INPUT_GROUP_CLASS_NAME","selectedItem","Menu","isExpanded","MenuButton","FeatherIcon","MenuPopover","positionMatchWidth","MenuItems"],"mappings":"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"}