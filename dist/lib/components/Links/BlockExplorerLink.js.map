{"version":3,"file":"BlockExplorerLink.js","sources":["../../../../lib/components/Links/BlockExplorerLink.jsx"],"sourcesContent":["import React from 'react'\nimport classnames from 'classnames'\nimport { getChain } from '@pooltogether/evm-chains-extended'\nimport { NETWORK, shorten as shortenHash } from '@pooltogether/utilities'\n\nimport { CopyIcon } from '../Icons/CopyIcon'\nimport { LinkIcon } from '../Icons/LinkIcon'\nimport { ExternalLink, LinkTheme } from './ExternalLink'\n\nexport const BlockExplorerLink = (props) => {\n  const {\n    address,\n    txHash,\n    children,\n    className,\n    shorten,\n    noIcon,\n    noText,\n    underline,\n    iconClassName,\n    copyable,\n    chainId,\n    theme\n  } = props\n\n  let url\n  if (txHash) {\n    url = formatBlockExplorerTxUrl(txHash, chainId)\n  } else if (address) {\n    url = formatBlockExplorerAddressUrl(address, chainId)\n  }\n\n  const display = txHash || address\n\n  return (\n    <>\n      <ExternalLink\n        underline={underline}\n        theme={theme}\n        className={classnames(`inline-flex`, className)}\n        href={url}\n        noIcon={noIcon}\n        iconClassName={iconClassName}\n        title='View on Block Explorer'\n      >\n        {children || (\n          <div className='flex'>\n            <span\n              className={classnames('inline-block', {\n                'sm:hidden': !shorten\n              })}\n            >\n              {shortenHash(display)}\n            </span>\n            <span\n              className={classnames('hidden', {\n                'sm:inline-block': !shorten\n              })}\n            >\n              {!noText && display}\n            </span>\n          </div>\n        )}\n      </ExternalLink>\n      {copyable && <CopyIcon className='ml-2 my-auto' text={display} />}\n    </>\n  )\n}\n\nBlockExplorerLink.defaultProps = {\n  noIcon: false,\n  noText: false,\n  noUnderline: false,\n  theme: LinkTheme.default,\n  iconClassName: 'h-4 w-4 ml-1 my-auto'\n}\n\nconst formatBlockExplorerTxUrl = (tx, networkId) => {\n  try {\n    const blockExplorerUrl = getChain(Number(networkId)).blockExplorerUrls[0]\n    return `${blockExplorerUrl}/tx/${tx}`\n  } catch (e) {\n    throw new Error('Chain ID not supported')\n  }\n}\n\nconst formatBlockExplorerAddressUrl = (address, networkId) => {\n  try {\n    const blockExplorerUrl = getChain(Number(networkId)).blockExplorerUrls[0]\n    return `${blockExplorerUrl}/address/${address}`\n  } catch (e) {\n    throw new Error('Chain ID not supported')\n  }\n}\n"],"names":["BlockExplorerLink","props","address","txHash","children","className","shorten","noIcon","noText","underline","iconClassName","copyable","chainId","theme","url","formatBlockExplorerTxUrl","formatBlockExplorerAddressUrl","display","React","ExternalLink","classnames","shortenHash","CopyIcon","defaultProps","noUnderline","LinkTheme","tx","networkId","blockExplorerUrl","getChain","Number","blockExplorerUrls","e","Error"],"mappings":"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"}