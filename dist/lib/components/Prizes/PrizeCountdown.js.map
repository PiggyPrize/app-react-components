{"version":3,"file":"PrizeCountdown.js","sources":["../../../../lib/components/Prizes/PrizeCountdown.jsx"],"sourcesContent":["import React from 'react'\nimport classnames from 'classnames'\nimport addSeconds from 'date-fns/addSeconds'\nimport { SECONDS_PER_DAY } from '@pooltogether/current-pool-data'\nimport { subtractDates } from '@pooltogether/utilities'\nimport { usePrizePeriodTimeLeft } from '@pooltogether/hooks'\n\nconst EIGHT_HOURS_IN_SECONDS = 28800\n\nexport const PrizeCountdown = (props) => {\n  const { t } = props\n\n  const {\n    center,\n    textAlign,\n    textSize,\n    prizePeriodSeconds,\n    prizePeriodStartedAt,\n    isRngRequested\n  } = props\n  let flashy = props.flashy === false ? false : true\n\n  const { secondsLeft } = usePrizePeriodTimeLeft(prizePeriodSeconds, prizePeriodStartedAt)\n\n  const currentDate = new Date(Date.now())\n  const futureDate = addSeconds(currentDate, secondsLeft)\n  const { days, hours, minutes, seconds } = subtractDates(futureDate, currentDate)\n\n  let msg\n  if (isRngRequested) {\n    return (\n      <>\n        <p\n          className={classnames(textSize, 'font-bold', {\n            'text-flashy': flashy,\n            'text-xs xs:text-sm sm:text-xl': !textSize,\n            'text-right': !textAlign\n          })}\n        >\n          {t?.('prizeIsBeingAwarded') || 'Prize is being awarded'}\n        </p>\n      </>\n    )\n  }\n\n  const daysArray = ('' + days).split('')\n  const hoursArray = ('' + hours).split('')\n  const minutesArray = ('' + minutes).split('')\n  const secondsArray = ('' + seconds).split('')\n\n  const textColor =\n    secondsLeft >= SECONDS_PER_DAY\n      ? 'green'\n      : secondsLeft >= EIGHT_HOURS_IN_SECONDS\n      ? 'orange'\n      : 'red'\n\n  const LeftSideJsx = ({ digit }) => {\n    return (\n      <span\n        className={`bg-tertiary text-${textColor} font-bold rounded-sm`}\n        style={{\n          padding: '2px 8px',\n          margin: '0 1px'\n        }}\n      >\n        {digit}\n      </span>\n    )\n  }\n\n  const RightSideJsx = ({ digit }) => {\n    return (\n      <span\n        className={`bg-tertiary text-${textColor} font-bold rounded-sm`}\n        style={{\n          padding: '2px 8px',\n          margin: '0 1px'\n        }}\n      >\n        {digit}\n      </span>\n    )\n  }\n\n  const unitClasses = 'opacity-60 text-inverse text-xxxs'\n  const unitStyles = { paddingTop: 3 }\n\n  return (\n    <>\n      <div\n        className={classnames(textSize, 'flex text-center', {\n          'justify-center': center,\n          'text-sm xs:text-xs sm:text-base': !textSize\n        })}\n      >\n        <div\n          className='flex flex-col mr-4'\n          style={{\n            paddingLeft: 2,\n            paddingRight: 2\n          }}\n        >\n          <div className='flex'>\n            <LeftSideJsx digit={daysArray.length < 2 ? 0 : daysArray[0]} />\n            <RightSideJsx digit={daysArray.length > 1 ? daysArray[1] : daysArray[0]} />\n          </div>\n          <div className={unitClasses} style={unitStyles}>\n            {t?.('countdownDayShort') || 'DAY'}\n          </div>\n        </div>\n        <div\n          className='flex flex-col'\n          style={{\n            paddingLeft: 2,\n            paddingRight: 2\n          }}\n        >\n          <div className='flex'>\n            <LeftSideJsx digit={hoursArray.length < 2 ? 0 : hoursArray[0]} />\n            <RightSideJsx digit={hoursArray.length > 1 ? hoursArray[1] : hoursArray[0]} />\n          </div>\n          <div className={unitClasses} style={unitStyles}>\n            {t?.('countdownHourShort') || 'HR'}\n          </div>\n        </div>\n        <div className={`px-0 sm:px-1 font-bold text-${textColor}`}>:</div>\n        <div\n          className='flex flex-col'\n          style={{\n            paddingLeft: 1,\n            paddingRight: 2\n          }}\n        >\n          <div className='flex'>\n            <LeftSideJsx digit={minutesArray.length < 2 ? 0 : minutesArray[0]} />\n            <RightSideJsx digit={minutesArray.length > 1 ? minutesArray[1] : minutesArray[0]} />\n          </div>\n          <div className={unitClasses} style={unitStyles}>\n            {t?.('countdownMinuteShort') || 'MIN'}\n          </div>\n        </div>\n        <div className={`px-0 sm:px-1 font-bold text-${textColor}`}>:</div>\n        <div\n          className='flex flex-col'\n          style={{\n            paddingLeft: 1,\n            paddingRight: 2\n          }}\n        >\n          <div className='flex'>\n            <LeftSideJsx digit={secondsArray.length < 2 ? 0 : secondsArray[0]} />\n            <RightSideJsx digit={secondsArray.length > 1 ? secondsArray[1] : secondsArray[0]} />\n          </div>\n          <div className={unitClasses} style={unitStyles}>\n            {t?.('countdownSecondShort') || 'SEC'}\n          </div>\n        </div>\n        {msg}\n      </div>\n    </>\n  )\n}\n"],"names":["EIGHT_HOURS_IN_SECONDS","PrizeCountdown","props","t","center","textAlign","textSize","prizePeriodSeconds","prizePeriodStartedAt","isRngRequested","flashy","usePrizePeriodTimeLeft","secondsLeft","currentDate","Date","now","futureDate","addSeconds","subtractDates","days","hours","minutes","seconds","msg","React","classnames","daysArray","split","hoursArray","minutesArray","secondsArray","textColor","SECONDS_PER_DAY","LeftSideJsx","digit","padding","margin","RightSideJsx","unitClasses","unitStyles","paddingTop","paddingLeft","paddingRight","length"],"mappings":"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"}