{"version":3,"file":"NetworkModal.js","sources":["../../../../../lib/components/PageHeader/NetworkSelector/NetworkModal.jsx"],"sourcesContent":["import React from 'react'\nimport classnames from 'classnames'\nimport {\n  useOnboard,\n  useIsWalletMetamask,\n  useAddNetworkToMetamask,\n  useIsWalletOnNetwork,\n  useIsWalletOnSupportedNetwork\n} from '@pooltogether/hooks'\nimport { ETHEREUM_NETWORKS, getNetworkNiceNameByChainId } from '@pooltogether/utilities'\n\nimport { Tooltip } from '../../Containers'\nimport { NetworkIcon } from '../../Icons'\nimport { Modal } from '../../Modal'\n\nexport const NetworkModal = (props) => {\n  const { t, isOpen, closeModal, supportedNetworks } = props\n\n  const { network: chainId } = useOnboard()\n  const isWalletMetamask = useIsWalletMetamask()\n  const currentNetworkName = getNetworkNiceNameByChainId(chainId)\n  const isWalletOnSupportedNetwork = useIsWalletOnSupportedNetwork(supportedNetworks)\n\n  if (isWalletMetamask) {\n    return (\n      <Modal isOpen={isOpen} closeModal={closeModal} label='network modal'>\n        <Container>\n          <Header>{t?.('chooseANetwork') || 'Choose a Network'}</Header>\n          <Description>\n            {t?.('selectASupportedNetworkMetamask') ||\n              'Select a supported network to be prompted to switch in your MetaMask wallet.'}\n          </Description>\n          {supportedNetworks.map((chainId) => (\n            <NetworkButton t={t} key={chainId} chainId={chainId} />\n          ))}\n          <CurrentlyConnectedTo\n            t={t}\n            currentNetworkName={currentNetworkName}\n            isWalletOnSupportedNetwork={isWalletOnSupportedNetwork}\n          />\n        </Container>\n      </Modal>\n    )\n  }\n\n  return (\n    <Modal isOpen={isOpen} closeModal={closeModal} label='network modal'>\n      <Container>\n        <Header>{t?.('supportedNetworks') || 'Suported Networks'}</Header>\n        <Description>\n          {t?.('pleaseSwitchToASupportedNetwork') ||\n            'Please switch to a supported network in your wallet.'}\n        </Description>\n        {supportedNetworks.map((chainId) => (\n          <NetworkItem t={t} key={chainId} chainId={chainId} />\n        ))}\n        <CurrentlyConnectedTo\n          t={t}\n          currentNetworkName={currentNetworkName}\n          isWalletOnSupportedNetwork={isWalletOnSupportedNetwork}\n        />\n      </Container>\n    </Modal>\n  )\n}\n\nconst Container = (props) => <div className='flex flex-col h-full p-4'>{props.children}</div>\nconst Header = (props) => <h5 className='text-accent-1'>{props.children}</h5>\nconst Description = (props) => <p className='mb-4 text-sm text-accent-1'>{props.children}</p>\nconst CurrentlyConnectedTo = (props) => (\n  <p className='text-xxxs mt-auto'>\n    {props.t?.('currentlyConnectedTo') || 'Currently connected to:'}\n    <b className={classnames({ 'ml-1 text-red': !props.isWalletOnSupportedNetwork })}>\n      {props.currentNetworkName}\n    </b>\n  </p>\n)\n\nconst NetworkItem = (props) => {\n  const { chainId } = props\n\n  const isCurrentNetwork = useIsWalletOnNetwork(chainId)\n  const networkName = getNetworkNiceNameByChainId(chainId)\n\n  return (\n    <div\n      className={classnames('flex justify-center mb-4 last:mb-0 w-full text-center py-2 rounded', {\n        'pool-gradient-1': isCurrentNetwork,\n        'bg-body': !isCurrentNetwork\n      })}\n    >\n      <NetworkIcon chainId={chainId} className='my-auto mr-2' />\n      <span className='my-auto'>{networkName}</span>\n    </div>\n  )\n}\n\nconst NetworkButton = (props) => {\n  const { chainId, t } = props\n\n  const isCurrentNetwork = useIsWalletOnNetwork(chainId)\n  const networkName = getNetworkNiceNameByChainId(chainId)\n  const addNetwork = useAddNetworkToMetamask(chainId)\n\n  const disabled = ETHEREUM_NETWORKS.includes(chainId)\n  let toolTip\n  if (disabled) {\n    toolTip =\n      t?.('manuallyChangeNetwork') || 'You have to manually switch to this network with your wallet'\n  }\n\n  return (\n    <div className='flex mb-4 last:mb-0'>\n      <button\n        className={classnames('w-full flex justify-center py-2 rounded trans', {\n          'pool-gradient-1 text-white hover:text-white': isCurrentNetwork,\n          'bg-body border border-body hover:border-accent-3': !isCurrentNetwork && !disabled,\n          'bg-body': !isCurrentNetwork && disabled,\n          '': disabled\n        })}\n        type='button'\n        onClick={addNetwork}\n        disabled={disabled}\n      >\n        <NetworkIcon chainId={chainId} className='mr-2' />\n        <span className='my-auto'>{networkName}</span>\n        {toolTip && (\n          <Tooltip\n            tip={toolTip}\n            id={`${chainId}-network-button`}\n            className='flex'\n            iconClassName='mx-2 my-auto'\n          />\n        )}\n      </button>\n    </div>\n  )\n}\n"],"names":["NetworkModal","props","t","isOpen","closeModal","supportedNetworks","useOnboard","chainId","network","isWalletMetamask","useIsWalletMetamask","currentNetworkName","getNetworkNiceNameByChainId","isWalletOnSupportedNetwork","useIsWalletOnSupportedNetwork","React","Modal","map","Container","children","Header","Description","CurrentlyConnectedTo","classnames","NetworkItem","isCurrentNetwork","useIsWalletOnNetwork","networkName","NetworkIcon","NetworkButton","addNetwork","useAddNetworkToMetamask","disabled","ETHEREUM_NETWORKS","includes","toolTip","Tooltip"],"mappings":"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"}