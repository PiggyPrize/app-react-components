{"version":3,"file":"PageLayout.js","sources":["../../../../lib/components/Layout/PageLayout.jsx"],"sourcesContent":["import React from 'react'\nimport { AnimatePresence, motion } from 'framer-motion'\nimport { useAtom } from 'jotai'\nimport { useReducedMotion, useScreenSize, ScreenSize } from '@pooltogether/hooks'\n\nimport { NotificationBannerList, notificationBannerVisibleAtom } from './NotificationBannerList'\n\n/**\n * Default layout includes a page header, side nav for desktop screens and bottom nav for mobile\n * @param {*} props\n * @returns\n */\nexport const DefaultLayout = (props) => {\n  const { content, header, sideNav, bottomNav, footer, banner, router } = props\n\n  return (\n    <AnimatedPageGrid\n      router={router}\n      banner={<NotificationBannerList>{banner}</NotificationBannerList>}\n      header={header}\n      content={content}\n      sideNavigation={sideNav}\n      bottomNavigation={bottomNav}\n      footer={footer}\n    />\n  )\n}\n\n/**\n * Simple layout does not include a sidebar or mobile navigation\n * Any navigation is expected to be floating or in the header\n * @param {*} props\n * @returns\n */\nexport const SimpleLayout = (props) => {\n  const { content, header, footer, banner } = props\n\n  return (\n    <SimplePageGrid\n      banner={<NotificationBannerList>{banner}</NotificationBannerList>}\n      header={header}\n      content={content}\n      footer={footer}\n    />\n  )\n}\n//\n\n/**\n * Generic page layout component\n * Small screens displays navigation at the bottom of the page\n * Anything larger than sm has a sidebar\n */\nconst DefaultPageGrid = ({ banner, header, sideNavigation, bottomNavigation, content, footer }) => {\n  const screenSize = useScreenSize()\n\n  if (screenSize <= ScreenSize.sm) {\n    return (\n      <div className='grid-page-wrapper'>\n        <div className='grid-header-wrapper bg-body z-10'>\n          <div className='grid-banner'>{banner}</div>\n          <div className='grid-header w-full bg-body z-10 mx-auto l-0 r-0'>{header}</div>\n        </div>\n        <ContentWithFooter content={content} footer={footer} />\n        <div className='bottom-navigation fixed b-0'>{bottomNavigation}</div>\n      </div>\n    )\n  }\n\n  return (\n    <div className='grid-page-wrapper'>\n      <div className='grid-header-wrapper bg-body z-10 w-full'>\n        <div className='grid-banner'>{banner}</div>\n        <div className='grid-header w-full bg-body z-10 mx-auto l-0 r-0'>{header}</div>\n      </div>\n\n      <ContentWithSideNavigation\n        content={content}\n        footer={footer}\n        sideNavigation={sideNavigation}\n      />\n    </div>\n  )\n}\n\n/**\n * Generic page layout component\n * Small screens displays navigation at the bottom of the page\n * Anything larger than sm has a sidebar\n */\nconst SimplePageGrid = ({ banner, header, content, footer }) => {\n  return (\n    <div className='grid-page-wrapper'>\n      <div className='grid-header-wrapper bg-body z-10'>\n        <div className='grid-banner'>{banner}</div>\n        <div className='grid-header w-full bg-body z-10 mx-auto l-0 r-0'>{header}</div>\n      </div>\n      <ContentWithFooter content={content} footer={footer} />\n    </div>\n  )\n}\n\n//\n\n/**\n * Simple wrapper for PageGrid with animations on the page content\n * // TODO: Add back the router funnelling for the key!\n */\nconst AnimatedPageGrid = ({\n  banner,\n  header,\n  sideNavigation,\n  bottomNavigation,\n  content,\n  footer,\n  router\n}) => (\n  <DefaultPageGrid\n    banner={banner}\n    header={header}\n    content={<AnimateContent router={router}>{content}</AnimateContent>}\n    footer={footer}\n    sideNavigation={sideNavigation}\n    bottomNavigation={bottomNavigation}\n  />\n)\n\n/**\n * Page content with a footer pushed to the bottom of the screen\n */\nconst ContentWithFooter = ({ content, footer }) => (\n  <div className='grid-content-with-footer sticky pb-24 sm:pb-0'>\n    <Content>{content}</Content>\n    <div className='grid-footer'>{footer}</div>\n  </div>\n)\n\n/**\n * Page content with a footer pushed to the bottom of the screen\n * and a navigation bar to the left side\n */\nconst ContentWithSideNavigation = ({ content, footer, sideNavigation }) => {\n  const [notificationBannerVisible] = useAtom(notificationBannerVisibleAtom)\n  const top = notificationBannerVisible ? 184 : 138\n\n  return (\n    <div className='desktop-content-wrapper flex justify-between w-full mx-auto pt-8'>\n      <div className='fixed' style={{ top, height: `calc(100% - ${top}px)` }}>\n        {sideNavigation}\n      </div>\n      <div className='push-sidebar-padding flex flex-col flex-1'>\n        <Content>{content}</Content>\n        {footer}\n      </div>\n    </div>\n  )\n}\n\n/**\n * Lowest level wrapper of page content\n * Base padding so content isn't touching the edge of the screen\n */\nconst Content = ({ children }) => (\n  <div className='grid-content p-4 sm:pt-0 sm:px-8 lg:pt-0 lg:px-10 text-inverse max-w-5xl lg:max-w-6xl w-full mx-auto lg:ml-auto'>\n    {children}\n  </div>\n)\n\n/**\n * Simple wrapper for Content with animation\n */\nconst AnimateContent = (props) => {\n  const shouldReduceMotion = useReducedMotion()\n  const { router } = props\n\n  return (\n    <AnimatePresence exitBeforeEnter>\n      <motion.div\n        id='content-animation-wrapper'\n        key={router?.route}\n        transition={{ duration: shouldReduceMotion ? 0 : 0.3, ease: 'easeIn' }}\n        initial={{\n          opacity: 0\n        }}\n        exit={{\n          opacity: 0\n        }}\n        animate={{\n          opacity: 1\n        }}\n        className='mx-auto w-full'\n      >\n        {props.children}\n      </motion.div>\n    </AnimatePresence>\n  )\n}\n"],"names":["DefaultLayout","props","content","header","sideNav","bottomNav","footer","banner","router","React","NotificationBannerList","SimpleLayout","DefaultPageGrid","sideNavigation","bottomNavigation","screenSize","useScreenSize","ScreenSize","sm","SimplePageGrid","AnimatedPageGrid","ContentWithFooter","ContentWithSideNavigation","useAtom","notificationBannerVisibleAtom","notificationBannerVisible","top","height","Content","children","AnimateContent","shouldReduceMotion","useReducedMotion","AnimatePresence","motion","route","duration","ease","opacity"],"mappings":"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"}